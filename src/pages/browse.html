{{ define "index" }}
<pkg:root :title="Browse" :searchbar="false">
    <pkg:l-heading class="%s --centered width-content">
        <h1>Browse packs</h1>
    </pkg:l-heading>

    <pkg:l-with-sidebar class="%s width-wide">
        <section class="l-col type-sections" id="browse_packs" hx-trigger="manual-reload" hx-target="#htmx-packs"
            hx-swap="innerHTML">
            <header class="l-row">
                <pkg:searchbar class="%s --flex" />
                <pkg:select :id="sort" :icon="eyecons/sort">
                    <option value="trending">Trending</option>
                    <option value="downloads">Downloads</option>
                    <option value="alphabetically">Alphabetically</option>
                    <option value="newest">Newest</option>
                </pkg:select>
            </header>
            <div id="js-filters" class="l-row --wrap">
                <template>
                    <button class="w-button type-tag type-include">
                        <pkg:icon :icon="eyecons/sort" :size="0.75" />
                        <span class="js-label"></span>
                        <pkg:icon :icon="eyecons/cross" :size="0.75" />
                    </button>
                </template>
            </div>
            <div id="htmx-packs" class="l-inherit on-loading">
                {{ template "browse_packs" . }}
            </div>
        </section>

        <aside>
            <div>
                <b>Categories</b>
            </div>
            <section class="l-graph">
                {{ range .Categories }}
                <div>
                    <pkg:icon :icon="eyecons/radio-unchecked" class="%s type-indicator" />
                    <pkg:filter class="%s --flex" data-param="category" data-item="{{ . }}">
                        {{ . }}
                    </pkg:filter>
                </div>
                {{ end }}
            </section>
            <hr />
            <div>
                <b>Versions</b>
            </div>
            <section class="l-graph">
                {{ range .Versions }}
                <div>
                    <pkg:icon :icon="eyecons/radio-unchecked" class="%s type-indicator" />
                    <div>
                        {{ .Version }}
                    </div>
                </div>
                {{ end }}
            </section>
            <hr />
            <div>
                <b>Badges</b>
            </div>
            <section class="l-graph">
                <div>
                    <pkg:icon :icon="eyecons/radio-unchecked" class="%s type-indicator" />
                    <pkg:filter class="%s --flex" data-param="badge" data-item="smithed">
                        Made by Smithed
                    </pkg:filter>
                </div>
                <div>
                    <pkg:icon :icon="eyecons/radio-unchecked" class="%s type-indicator" />
                    <pkg:filter class="%s --flex" data-param="badge" data-item="lang">
                        Localization support
                    </pkg:filter>
                </div>
                <div>
                    <pkg:icon :icon="eyecons/radio-unchecked" class="%s type-indicator" />
                    <pkg:filter class="%s --flex" data-param="badge" data-item="resourcepack">
                        Resource pack
                    </pkg:filter>
                </div>
            </section>
        </aside>
    </pkg:l-with-sidebar>
</pkg:root>
{{ end }}
